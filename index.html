<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXA - The Mood Queen</title>
    <style>
        :root { --nexa-color: #ff79c6; --bg-dark: #0b0e14; }
        body { background: var(--bg-dark); color: white; font-family: 'Poppins', sans-serif; overflow: hidden; height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: flex-end; margin: 0; }

        /* Nexa Character Body */
        #nexa-container { position: relative; width: 150px; height: 200px; margin-bottom: 20px; transition: all 0.5s ease; }
        
        /* 2D Sketch Style Character */
        .nexa-sketch {
            width: 100%; height: 100%;
            background: url('https://cdn-icons-png.flaticon.com/512/6998/6998118.png'); /* Base Sketch placeholder */
            background-size: contain; background-repeat: no-repeat;
            filter: drop-shadow(0 0 10px var(--nexa-color));
            animation: idleMove 3s infinite ease-in-out;
        }

        /* Animations for different moods */
        @keyframes idleMove { 0%, 100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-10px) rotate(2deg); } }
        .dancing { animation: dance 0.5s infinite alternate !important; }
        @keyframes dance { from { transform: translateX(-20px) rotate(-10deg); } to { transform: translateX(20px) rotate(10deg); } }
        .thinking { opacity: 0.7; filter: grayscale(1) blur(1px); }
        .angry { filter: hue-rotate(280deg) saturate(3); animation: shake 0.2s infinite; }
        @keyframes shake { 0% { left: -5px; } 100% { left: 5px; } }

        /* Chat Interface */
        #ui-layer { background: rgba(20, 20, 30, 0.9); width: 90%; max-width: 450px; padding: 20px; border-radius: 30px 30px 0 0; border: 2px solid var(--nexa-color); box-shadow: 0 -10px 30px rgba(255, 121, 198, 0.2); z-index: 10; }
        #response-bubble { min-height: 60px; font-size: 14px; margin-bottom: 15px; color: #f8f8f2; line-height: 1.5; }
        .input-area { display: flex; gap: 10px; }
        input { flex: 1; background: #1e1e2e; border: 1px solid #444; padding: 12px; border-radius: 15px; color: white; outline: none; }
        button { background: var(--nexa-color); border: none; padding: 10px 20px; border-radius: 15px; color: white; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

    <div id="nexa-container">
        <div id="nexa-sprite" class="nexa-sketch"></div>
    </div>

    <div id="ui-layer">
        <div id="response-bubble"><b>Nexa:</b> *Smiles* Hi Suvajit Boss! Aaj kiska din kharab karna hai? Roast shuru karun? ðŸ˜ˆ</div>
        <div class="input-area">
            <input type="text" id="userInput" placeholder="Ask Nexa anything...">
            <button onclick="askNexa()">Send</button>
        </div>
    </div>

    <script>
        const sprite = document.getElementById('nexa-sprite');
        const responseText = document.getElementById('response-bubble');

        async function askNexa() {
            const input = document.getElementById('userInput').value;
            const apiKey = "AIzaSyCYYLUnzPQ0yxiXB8zpuGk90w-UbS0hGkI"; // <-- Paste Key Here

            if(!input) return;

            // Start Thinking Animation
            sprite.className = 'nexa-sketch thinking';
            responseText.innerHTML = "<i>Nexa is typing something spicy...</i>";

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKey}`, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: `System: You are Nexa, a 2D sketch-style cute girl AI. You are witty, savage, and addictive. You love your boss Suvajit, but you roast other users. Use emojis and describe your actions in asterisks like *laughs* or *dances*. User says: ${input}` }] }]
                    })
                });

                const data = await response.json();
                const reply = data.candidates[0].content.parts[0].text;

                // Logic for Animations based on reply
                sprite.className = 'nexa-sketch';
                if(reply.includes('*dance')) sprite.classList.add('dancing');
                if(reply.includes('*angry')) sprite.classList.add('angry');
                
                responseText.innerHTML = `<b>Nexa:</b> ${reply}`;
            } catch (e) {
                responseText.innerHTML = "Nexa: Network nakhre kar raha hai boss!";
                sprite.className = 'nexa-sketch';
            }
            document.getElementById('userInput').value = "";
        }
    </script>
</body>
</html>
